##Â  README pour le projet NestJS + CI/CD

# Application NestJS avec Docker et CI/CD sur AWS

Ce projet contient lâ€™application NestJS et le pipeline GitHub Actions pour construire, containeriser et dÃ©ployer sur ECS automatiquement.



> âš ï¸ **Important** : La branche par dÃ©faut pour tester est `staging`. Ne pas travailler sur `main` ou `preprod` directement.



## ğŸš€ FonctionnalitÃ©s

- Application NestJS moderne

- Dockerisation complÃ¨te

- Pipeline CI/CD avec GitHub Actions

- DÃ©ploiement automatique sur ECS via ECR

- Support pour trois environnements : `staging`, `preprod` et `prod`



## ğŸ”§ PrÃ©requis

- Node.js >= 18

- Docker

- AccÃ¨s au repository GitHub avec OIDC pour AWS


## âš¡ Utilisation

1. Cloner le projet et passer sur **staging** :

```bash

git clone <URL_DU_REPO_NESTJS>

cd nestjs-app

git checkout staging



2- Installer les dÃ©pendances :

npm install


3 - Construire lâ€™application :



npm run build

Pousser lâ€™image et dÃ©ployer via GitHub Actions :


Trigger automatique sur push ou workflow_dispatch
Les images Docker sont taguÃ©es avec latest pour staging et preprod, et avec SHA pour prod
Les services ECS sont mis Ã  jour automatiquement





ğŸ“‚ Structure

nestjs-app/

â”œâ”€ src/

â”œâ”€ docker/

â”œâ”€ .github/workflows/

â”‚Â  â””â”€ deploy.yml

â”œâ”€ package.json

â””â”€ tsconfig.json



ğŸ” SÃ©curitÃ©

Les secrets GitHub ne sont pas stockÃ©s
OIDC + SSM permettent de rÃ©cupÃ©rer dynamiquement les credentials AWS
RÃ´les IAM minimalistes et sÃ©curisÃ©s





